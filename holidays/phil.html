<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Birthday Phil!</title>
  <link rel="icon" type="image/x-icon" href="../img/cam.png">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700&display=swap');
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Orbitron', sans-serif;
      background: #000;
      color: #5BCEFA;
      min-height: 100vh;
      display: flex; flex-direction: column;
    }
    .page-wrapper { flex: 1; display: flex; flex-direction: column; justify-content: center; padding-top: 140px; padding-bottom: 100px; }
    header {
      position: fixed; top: 0; left: 0; width: 100%;
      padding: 0.5rem 1rem;
      border-bottom: 3px solid #004CFF;
      background: rgba(20, 0, 40, 0.9);
      box-shadow: 0 0 25px #004CFF, 0 0 50px #5BCEFA inset;
      z-index: 10;
      display: flex; justify-content: center; align-items: center;
    }
    .header-text {
      display: flex; align-items: center; justify-content: center;
      font-size: clamp(1.2rem, 4vw, 2.2rem);
      letter-spacing: 2px;
      color: #5BCEFA;
      text-align: center;
      text-shadow: 0 0 8px #5BCEFA, 0 0 25px #004CFF;
    }
    .logo {
      width: clamp(50px, 15vw, 90px);
      height: clamp(50px, 15vw, 90px);
      margin: 0 0.5rem;
      cursor: pointer;
      border-radius: 50%;
      background: radial-gradient(circle, #264653aa, #000);
      box-shadow: 0 0 20px #004CFF, 0 0 40px #5BCEFA;
      transition: transform 0.3s ease;
    }
    .logo:hover { transform: scale(1.1) rotate(5deg); }
    footer {
      position: fixed; bottom: 0; left: 0; width: 100%;
      padding: 1rem 0;
      border-top: 3px solid #5BCEFA;
      background: rgba(0, 20, 40, 0.9);
      box-shadow: 0 0 25px #5BCEFA, 0 0 50px #004CFF inset;
      text-align: center;
    }
    #footer-secret {
      font-size: 1rem;
      color: #5BCEFA;
      text-shadow: 0 0 8px #004CFF, 0 0 25px #5BCEFA;
    }

    main { flex: 1; display: flex; flex-direction: column; align-items: center; padding: 2rem; text-align: center; }
    h1 { margin-bottom: 1rem; color: #5BCEFA; text-shadow: 0 0 10px #004CFF; }
    #board {
      display: grid;
      grid-template-columns: repeat(10, 35px);
      grid-template-rows: repeat(10, 35px);
      gap: 2px;
      margin-top: 1rem;
    }
    .cell {
      width: 35px; height: 35px;
      background: #264653;
      color: #fff;
      display: flex; justify-content: center; align-items: center;
      font-size: 0.9rem; font-weight: bold;
      cursor: pointer; user-select: none;
      border-radius: 4px;
      box-shadow: 0 0 8px #004CFF inset;
    }
    .cell.revealed {
      background: #004CFF;
      color: #fff;
      cursor: default;
      box-shadow: none;
    }
    .cell.mine { background: red; color: #fff; }
    #status { margin-top: 1rem; font-size: 1.2rem; }
    .controls { margin-top: 1rem; }
    .controls button {
      background: #004CFF; color: #fff; border: none;
      padding: 0.5rem 1rem; border-radius: 6px;
      font-size: 1rem; cursor: pointer;
    }
    .controls button:hover { background: #5BCEFA; color: #264653; }
  </style>
</head>
<body>
  <div class="page-wrapper">
    <header>
      <div class="header-text">
        <span class="left-text">Cameron</span>
        <a href="../index.html"><img src="../img/cam.png" alt="Cam's Logo" class="logo"></a>
        <span class="right-text">Hollabaugh</span>
      </div>
    </header>

    <main>
      <h1>Minesweeper</h1>
      <p>I finished minesweeper for you Phil.</p>
      <div id="board"></div>
      <div id="status"></div>
      <div class="controls"><button onclick="initGame()">Restart</button></div>
    </main>

    <footer>
      <p id="footer-secret">Â©2025 Cameron Hollabaugh</p>
    </footer>
  </div>

  <script>
    const rows = 10, cols = 10, minesCount = 15;
    let board = [], revealedCount = 0, gameOver = false;

    function initGame() {
      const boardEl = document.getElementById("board");
      const statusEl = document.getElementById("status");
      boardEl.innerHTML = ""; statusEl.textContent = "";
      revealedCount = 0; gameOver = false;

      board = Array.from({ length: rows }, () =>
        Array.from({ length: cols }, () => ({ mine:false, revealed:false, adjacent:0 }))
      );

      let placed = 0;
      while (placed < minesCount) {
        let r = Math.floor(Math.random()*rows), c = Math.floor(Math.random()*cols);
        if (!board[r][c].mine) { board[r][c].mine = true; placed++; }
      }

      for (let r=0; r<rows; r++) for (let c=0; c<cols; c++) {
        if (board[r][c].mine) continue;
        let count = 0;
        for (let dr=-1; dr<=1; dr++) for (let dc=-1; dc<=1; dc++) {
          let nr=r+dr, nc=c+dc;
          if (nr>=0&&nr<rows&&nc>=0&&nc<cols && board[nr][nc].mine) count++;
        }
        board[r][c].adjacent = count;
      }

      for (let r=0; r<rows; r++) for (let c=0; c<cols; c++) {
        const cell = document.createElement("div");
        cell.classList.add("cell");
        cell.dataset.row = r; cell.dataset.col = c;
        cell.addEventListener("click", () => revealCell(r,c));
        boardEl.appendChild(cell);
      }
    }

    function revealCell(r,c) {
      if (gameOver) return;
      const cell = board[r][c];
      const el = document.querySelector(`.cell[data-row='${r}'][data-col='${c}']`);
      if (cell.revealed) return;
      cell.revealed = true; el.classList.add("revealed");

      if (cell.mine) {
        el.textContent="ðŸ’£"; el.classList.add("mine");
        endGame(false); return;
      }

      revealedCount++;
      if (cell.adjacent>0) { el.textContent = cell.adjacent; }
      else {
        for (let dr=-1; dr<=1; dr++) for (let dc=-1; dc<=1; dc++) {
          let nr=r+dr, nc=c+dc;
          if (nr>=0&&nr<rows&&nc>=0&&nc<cols) revealCell(nr,nc);
        }
      }
      if (revealedCount===rows*cols-minesCount) endGame(true);
    }

    function endGame(won) {
      gameOver=true;
      document.getElementById("status").textContent = won ? "ðŸŽ‰ You Win!" : "ðŸ’¥ Game Over!";
      if (!won) {
        for (let r=0; r<rows; r++) for (let c=0; c<cols; c++) if (board[r][c].mine) {
          const el=document.querySelector(`.cell[data-row='${r}'][data-col='${c}']`);
          el.textContent="ðŸ’£"; el.classList.add("mine");
        }
      }
    }
    window.onload = initGame;
  </script>
</body>
</html>
